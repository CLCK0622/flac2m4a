# flac2m4a 音频合并工具

这是一个命令行工具，用于将 `.flac` 音频文件、`.jpg` 封面图片和 `.lrc` 歌词文件合并成一个带有内嵌封面和歌词的 Apple Lossless (`.m4a`) 文件。

## 功能

-   将 FLAC 无损音频转换为 Apple Lossless (ALAC) 无损音频。
-   将同名的 JPG 图片作为专辑封面嵌入到音频文件中。
-   将同名的 LYC 歌词文件作为歌词轨道嵌入，并可指定语言元数据。
-   支持两种模式：自动扫描当前目录或手动指定文件名。
-   无需手动安装 FFmpeg，工具会自动处理。

## 安装

1.  确保你的电脑上已经安装了 [Node.js](https://nodejs.org/) (建议使用 LTS 版本)。
2.  将项目文件下载到本地文件夹。
3.  打开终端（命令行工具），进入项目文件夹，然后运行以下命令来安装依赖：
    ```bash
    npm install
    ```
4.  为了方便在任何路径下使用，运行以下命令将此工具链接到全局：
    ```bash
    npm link
    ```

## 使用方法

将你的 `.flac`, `.jpg`, `.lrc` 文件放在同一个文件夹下，并确保它们的文件名（除扩展名外）完全相同。

例如：
- `歌曲A.flac`
- `歌曲A.jpg`
- `歌曲A.lrc`

然后在该文件夹中打开终端，运行以下命令。

---

### 命令

**1. 自动扫描模式**

直接运行命令，工具会自动查找当前目录中所有匹配的 `flac` 文件组并进行转换。歌词语言默认为中文 (`chi`)。

```bash
flac2m4a
```

**2. 手动模式**

如果你只想转换特定的一首歌，可以提供一个基础文件名。

```bash
flac2m4a "歌曲A"
```
*(如果文件名包含空格，请使用引号)*

### 选项

**设置歌词语言**

使用 `--lang` 或 `-l` 标志来指定歌词的语言代码（ISO 639-2 标准的三字母代码）。

例如，将歌词语言设置为英语 (`eng`)：

```bash
flac2m4a --lang eng
```

或者在手动模式下使用：

```bash
flac2m4a "歌曲A" -l jpn
```

**查看帮助**

```bash
flac2m4a --help
```

## 推荐搭配

为了方便地获取歌曲的封面和 `.lrc` 格式的歌词文件，推荐使用以下 API 服务：

[**网易云音乐 API**](https://api.toubiec.cn/wyapi.html)

你可以通过这个 API 获取可直接配合本工具使用的音乐文件。
